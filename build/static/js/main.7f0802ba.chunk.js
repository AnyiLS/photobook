(this.webpackJsonpphotobooth=this.webpackJsonpphotobooth||[]).push([[0],[,,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(6),o=n.n(i),s=(n(11),n(12),n(13),n(5),n(0)),r=(n(15),n(16),n(2)),l=n(3),d=n.n(l),u=function(){var e=function(e){};e.propTypes={cameraPhoto:typeof d.a};return{changeCamera:e,getDataUri:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=document.getElementById("video");return e.width=n.videoWidth,e.height=n.videoHeight,t.drawImage(n,0,0,n.videoWidth,n.videoHeight),e.toDataURL("image/jpg")}}},m=(n(17),function(e){var t=e.setShowModal,n=e.setIsTimerSet,c=e.isTimerSet,a=e.setIsFullScreen,i=e.isFullScreen;return Object(s.jsx)("div",{className:"modal-bc",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"input-container_modal",children:[Object(s.jsx)("input",{type:"checkbox",name:"timer",onChange:function(e){n(e.target.checked)},checked:c}),Object(s.jsx)("label",{children:"Temporizador"})]}),Object(s.jsxs)("div",{className:"input-container_modal",children:[Object(s.jsx)("input",{type:"checkbox",name:"fullscreen",onChange:function(e){return t=document.documentElement,(n=e).target.checked?t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen():document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),void a(n.target.checked);var t,n},checked:i}),Object(s.jsx)("label",{children:"Pantalla completa"})]}),Object(s.jsx)("div",{className:"input-container_modal",children:Object(s.jsx)("button",{onClick:function(){return t(!1)},children:"Salir"})})]})})}),b=(n(18),n(19),n(20),n.p+"static/media/fondo.15d34eda.png"),g={width:640,height:480},j=function(){var e=u().getDataUri,t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],o=n[1],j=Object(c.useState)(!1),h=Object(r.a)(j,2),f=h[0],O=h[1],S=Object(c.useState)("#"),v=Object(r.a)(S,2),p=v[0],w=v[1],x=Object(c.useState)(!1),y=Object(r.a)(x,2),N=y[0],E=y[1],I=Object(c.useState)(!1),k=Object(r.a)(I,2),F=k[0],C=k[1],R=Object(c.useState)(!1),_=Object(r.a)(R,2),T=_[0],B=_[1],U=Object(c.useState)(3),J=Object(r.a)(U,2),q=(J[0],J[1]),z=Object(c.useState)(!1),L=Object(r.a)(z,2),D=(L[0],L[1]),M=Object(c.useRef)(),W=new d.a(M),P=JSON.parse(localStorage.getItem("facing"));Object(c.useEffect)((function(){P||localStorage.setItem("facing",JSON.stringify("USER")),JSON.parse(localStorage.getItem("screen"))||localStorage.setItem("screen",JSON.stringify("camera")),W=new d.a(M.current),function(){var e="USER"===P?l.FACING_MODES.USER:l.FACING_MODES.ENVIRONMENT;W.startCamera(e,g).then((function(){o(!0)})).catch((function(e){return console.log(e)}))}(),window.innerWidth<1200&&window.addEventListener("orientationchange",(function(e){var t=document.querySelector(".rotatePop");0===window.orientation?t.style.display="flex":t.style.display="none"}))}),[]);Object(c.useEffect)((function(){}),[]);var A=function(e){var t=document.getElementById("photo"),n=t.getContext("2d"),c=new Image;c.onload=function(){n.drawImage(c,.1*t.width,0,470,350);var e=new Image;e.onload=function(){n.drawImage(e,0,0,670,350),w(t.toDataURL("image/jpg"))},e.src="./assets/images/fondo.png"},c.src=e},G=a.a.useState(0),H=Object(r.a)(G,2),V=H[0],K=H[1];return a.a.useEffect((function(){return document.getElementById("background-image")&&(K(document.getElementById("background-image").clientWidth),window.addEventListener("resize",(function(){console.log(document.getElementById("background-image")),K(document.getElementById("background-image").clientWidth)}))),function(){window.removeEventListener("resize",(function(){K(document.getElementById("background-image").clientWidth)}))}}),[]),Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{class:"video-container",style:{width:V>0?V:"auto",background:f?"white":"black"},children:[!f&&Object(s.jsx)("video",{style:{width:V>0?V:"auto"},width:"400",height:"341",id:"video",controls:!0,ref:M,autoPlay:!0}),Object(s.jsx)("img",{src:b,alt:"Overlay image",id:"background-image",class:"overlay-image"}),Object(s.jsx)("canvas",{className:"animated fadeIn",id:"photo",width:"700",height:"350",style:{display:f?"block":"none"}}),f?Object(s.jsx)("div",{className:"btns-wrapper_camera",children:Object(s.jsxs)("div",{className:"div-wrapper",style:{marginLeft:f?0:"5%"},children:[Object(s.jsx)("div",{className:"trie",style:{marginLeft:f?0:"11%"},children:Object(s.jsx)("button",{className:"try-btn_camera",onClick:function(){O(!1),q(3),D(!1);var e=document.getElementById("photo");e.getContext("2d").clearRect(0,0,e.width,e.height)}})}),Object(s.jsx)("div",{className:"guardar",children:Object(s.jsx)("a",{id:"download",className:"save-btn_camera",download:"selfie",href:p})})]})}):Object(s.jsx)("div",{className:"btns-wrapper_camera",children:Object(s.jsxs)("div",{className:"div-wrapper",children:[Object(s.jsx)("button",{className:"settings-btn_camera",onClick:function(){return E(!0)}}),Object(s.jsx)("button",{className:"take-btn_camera",onClick:function(){localStorage.removeItem("screen");var t=e();console.log(t),F?(setTimeout((function(){q(2)}),1e3),setTimeout((function(){q(1)}),2e3),setTimeout((function(){A(t),O(!0)}),3e3)):(A(t),O(!0))},disabled:!i}),Object(s.jsx)("button",{className:"take-btn_camera2",onClick:function(){"USER"===P?localStorage.setItem("facing",JSON.stringify("ENVIRONMENT")):localStorage.setItem("facing",JSON.stringify("USER")),window.location.reload()}})]})}),N&&Object(s.jsx)(m,{setShowModal:E,isTimerSet:F,setIsTimerSet:C,setIsFullScreen:B,isFullScreen:T})]})})},h=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(j,{})})},f=document.getElementById("root");o.a.render(Object(s.jsx)(h,{}),f)}],[[21,1,2]]]);
//# sourceMappingURL=main.7f0802ba.chunk.js.map